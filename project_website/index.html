<!DOCTYPE HTML>
<!--
	Prologue by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Columbia University EECS E4764 IoT Project Report #23</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
	</head>
	<body>

		<!-- Header -->
			<div id="header">

				<div class="top">

					<!-- Logo -->
						<div id="logo">
							<!-- <span class="image avatar48"><img src="images/avatar.jpg" alt="" /></span> -->
							<h1 id="title">HYDR.AI</h1>
							<p>Columbia University <br>
								EECS E4764 Fall'25 <br>
								Artificial Intelligence of Things<br>
								Team 23 Project Report
							</p>
						</div>

					<!-- Nav -->
						<nav id="nav">
							<!--

								Prologue's nav expects links in one of two formats:

								1. Hash link (scrolls to a different section within the page)

								   <li><a href="#foobar" id="foobar-link" class="icon fa-whatever-icon-you-want skel-layers-ignoreHref"><span class="label">Foobar</span></a></li>

								2. Standard link (sends the user to another page/site)

								   <li><a href="http://foobar.tld" id="foobar-link" class="icon fa-whatever-icon-you-want"><span class="label">Foobar</span></a></li>

							-->
							<ul>
								<li><a href="#top" id="top-link" class="skel-layers-ignoreHref"><span class="icon fa-home">Abstract</span></a></li>
								<li><a href="#motivation" id="motivation-link" class="skel-layers-ignoreHref"><span class="icon fa-th">Motivation</span></a></li>
								<li><a href="#system" id="system-link" class="skel-layers-ignoreHref"><span class="icon fa-th">System</span></a></li>
								<li><a href="#results" id="results-link" class="skel-layers-ignoreHref"><span class="icon fa-th">Results</span></a></li>
								<li><a href="#references" id="references-link" class="skel-layers-ignoreHref"><span class="icon fa-th">References</span></a></li>
								<li><a href="#team" id="team-link" class="skel-layers-ignoreHref"><span class="icon fa-user">Our Team</span></a></li>
								<li><a href="#contact" id="contact-link" class="skel-layers-ignoreHref"><span class="icon fa-envelope">Contact</span></a></li>
							</ul>
						</nav>

				</div>

				<div class="bottom">

					<!-- Social Icons -->
						<ul class="icons">
							<li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
							<li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
							<li><a href="#" class="icon fa-github"><span class="label">Github</span></a></li>
							<li><a href="#" class="icon fa-dribbble"><span class="label">Dribbble</span></a></li>
							<li><a href="#" class="icon fa-envelope"><span class="label">Email</span></a></li>
						</ul>

				</div>

			</div>

		<!-- Main -->
			<div id="main">

				<!-- Intro -->
					<section id="top" class="one dark cover">
						<div class="container">

								<iframe
									width="560"
									height="315"
									src="https://www.youtube.com/embed/60S0ChkweOU?autoplay=1&mute=1"
									title="HYDR.AI Demo Video"
									frameborder="0"
									allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
									allowfullscreen>
								</iframe>

								<h2 class="alt">HYDR.AI</h2>
								<p>A smart hydration band wearable that monitors heart rate, skin temperature, and skin conductance to detect early signs of dehydration and alert the user when it’s time to rehydrate.
</p>
								<p align = "justify">Dehydration significantly impacts cognitive performance and health, yet generic intake guidelines often fail
									 to account for real-time biological needs. HYDR.AI is an Artificial Intelligence of Things (AIoT) wearable system designed to provide
									  personalized hydration monitoring. The device integrates an ESP32 microcontroller with sensors for Heart Rate, Skin Temperature, and 
									  Galvanic Skin Response (GSR) to capture real-time biosignals. This data is transmitted to a Google Cloud Run architecture where it is analyzed 
									  alongside environmental context (weather and location) and physical activity context (daily steps and active calories) from various APIs to classify 
									  hydration states. The system delivers timely notifications and actionable water intake recommendations to the user's device from a notification service.
									 This ensures users stay optimally hydrated based on their specific physiological conditions.</p>


							<footer>
								<a href="#motivation" class="button scrolly">Motivation</a>
							</footer>

						</div>
					</section>

				<!-- Portfolio -->
					<section id="motivation" class="two">
						<div class="container">

							<header>
								<h2>Motivation</h2>
							</header>
							<p align="center" style="font-style: italic;">“Staying hydrated starts with knowing your body's specific needs” - Alex Germano, MD</p>

							<span class="image fit"  style="display: block; width: 60%; margin-bottom: 2em;margin-left: auto; margin-right: auto;">
                                <img src="images/hydration_chart.png" alt="Water Intake Chart" />
                            </span>

							<h3 align="left">The Hydration Gap</h3>
                            <p align="left">
                                Despite the clear importance of water for health, most Americans chronically under-hydrate. 
                                Data suggests a startling gap: on average, men consume only <strong>~5.5 cups</strong> of their 
                                recommended 15.5 cups, while women consume just <strong>~5.4 cups</strong> against a target of 11.5 cups. 
                                This deficit directly impacts energy, cognitive focus, and overall health.
                            </p>

                            <h3 align="left">Why HYDR.AI?</h3>
                            <p align="left">
                                Generic "drink water" reminders aren't enough because they ignore the individual's real-time 
                                physiological state. Hydr.AI closes this gap by moving beyond static schedules.
                            </p>
                            <p align="left">
                                We utilize an AIoT wearable to monitor real-time biosignals—specifically <strong>Heart Rate, 
                                Skin Temperature, and Galvanic Skin Response (GSR)</strong>. By combining these physiological markers 
                                with environmental data, our system detects early signs of dehydration to provide personalized alerts 
                                that keep users performing at their peak.
                            </p>

						</div>
					</section>


					<section id="system" class="three">
						<div class="container">

							<header>
								<h2>System</h2>
							</header>

							<h3 align="left">Architecture</h3>
							<span class="image fit" style="display: block; width: 80%; margin: 0 auto 2em auto;margin-left: auto; margin-right: auto;">
                                <img src="images/arch.jpg" alt="Architecture Chart" />
                            </span>

							<p align="left">
                                HYDR.AI operates on a robust four-stage pipeline: <strong>Data Collection, Edge Processing, Cloud Intelligence, and User Feedback.</strong> 
                                Our system integrates custom embedded hardware with a containerized cloud backend to deliver real-time, context-aware hydration analytics.
                            </p>

                            <h4 align="left">1. Sensing Pipeline (Hardware Layer)</h4>
                            <p align="left">
                                The wearable device is built around an <strong>ESP32 microcontroller</strong> acting as the central hub. 
                                To ensure high-precision data acquisition, we utilize an <strong>ADS1115 ADC</strong> (Analog-to-Digital Converter) to interface with analog biosensors. 
                                The sensor suite includes:
                            </p>
                            <ul align="left" style="list-style-position: inside;">
                                <li><strong>MAX3010:</strong> Captures photoplethysmography (PPG) data for Heart Rate variability.</li>
                                <li><strong>GSR Sensor:</strong> Measures skin conductance (Galvanic Skin Response) to track sweat gland activity.</li>
                                <li><strong>NTC Thermistor:</strong> Monitors real-time skin temperature.</li>
                            </ul>

                            <h4 align="left">2. Data Handling & Forwarding (Edge Layer)</h4>
                            <p align="left">
                                Raw sensor data is transmitted via I2C/ADC to the ESP32, which forwards the payload via HTTP POST to a local edge gateway. 
                                A custom Python script (<code>cloud_HRCalc.py</code>) running on the gateway serves two roles:
                            </p>
                            <ul align="left" style="list-style-position: inside;">
                                <li><strong>Preprocessing:</strong> Performs initial signal cleaning and raw value conversion.</li>
                                <li><strong>Orchestration:</strong> Forwards data to our cloud container and manages the "Heartbeat" of the system by triggering the recommendation engine on a set timer.</li>
                            </ul>

                            <h4 align="left">3. Cloud Backend & Intelligence</h4>
                            <p align="left">
                                The core logic resides in a <strong>Dockerized FastAPI container</strong> hosted on Google Cloud Run. The backend exposes three custom endpoints:
                            </p>
                            <ul align="left" style="list-style-position: inside;">
                                <li><strong>@/sensor:</strong> Ingests high-frequency biosignal data from the hardware and processes the data to get compatible values for the model.</li>
                                <li><strong>@/apple-health:</strong> Integrates external health context (Step Count, Active Energy) via the HealthKit Auto Export API. This data orignates from an automation sync JSON in the Auto Export App linked to the users Apple Health Data</li>
                                <li><strong>@/recommendation:</strong> The decision engine. It aggregates historical sensor trends, environmental context (fetched via <strong>OpenWeather API</strong>), and physical activity.</li>
                            </ul>
                            <p align="left">
                                This aggregated sensor data is fed into our {INSERT TYPE OF MODEL, ones shot etc} ML Hydration Model to predict the user's hydration state. The prediction, combined with weather and activity data, is sent to a <strong>Large Language Model (via Poe API)</strong> to generate a natural language, actionable hydration tip.
                            </p>

                            <h4 align="left">4. User Experience (Feedback Loop)</h4>
                            <p align="left">
                                The final recommendation is delivered instantly to the user's smartphone via <strong>ntfy.sh</strong> (Pub/Sub notification service). 
                                This closes the loop, providing the user with timely, scientifically grounded advice rather than generic reminders.
                            </p>


							<h3 align="left">Technical Components</h3>

                            <p align="left">
                                Our system leverages a heterogeneous tech stack, combining low-level embedded hardware with high-level cloud microservices.
                            </p>

                            <div class="row">

                                <div class="4u 12u$(mobile)">
                                    <h4>Hardware Layer</h4>
                                    <ul align="left" style="list-style-position: inside;">
                                        <li><strong>MCU:</strong> ESP32 Microcontroller (Wi-Fi enabled).</li>
                                        <li><strong>ADC:</strong> ADS1115 (16-bit precision for analog sensors).</li>
                                        <li><strong>Sensors:</strong>
                                            <ul>
                                                <li>MAX3010 (PPG/Heart Rate)</li>
                                                <li>NTC Thermistor (Skin Temp)</li>
                                                <li>GSR Module (Skin Conductance)</li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>

                                <div class="4u 12u$(mobile)">
                                    <h4>Software & Cloud</h4>
                                    <ul align="left" style="list-style-position: inside;">
                                        <li><strong>Backend:</strong> FastAPI (Python) for high-performance REST endpoints.</li>
                                        <li><strong>Containerization:</strong> Docker & Google Cloud Run for serverless deployment.</li>
                                        <li><strong>Database:</strong> SQLite/SQLAlchemy for sensor logging.</li>
                                        <li><strong>Notifications:</strong> ntfy.sh (Pub/Sub service).</li>
                                    </ul>
                                </div>

                                <div class="4u$ 12u$(mobile)">
                                    <h4>AI & Data</h4>
                                    <ul align="left" style="list-style-position: inside;">
                                        <li><strong>ML Framework:</strong> PyTorch (Custom TFC-based Hydration Model).</li>
                                        <li><strong>LLM Engine:</strong> Poe API (Context-aware natural language generation).</li>
                                        <li><strong>External APIs:</strong>
                                            <ul>
                                                <li>OpenWeatherMap (Real-time weather).</li>
                                                <li>Apple HealthKit (Activity metrics).</li>
                                            </ul>
                                        </li>
                                    </ul>

                                    
                                </div>

                            </div>

							<h4>Machine Learning Inference Engine</h4>
                                    <p align="left" style="margin-bottom: 6px;">
										HYDR.AI uses a deep learning architecture to estimate hydration levels from wearable sensor data.
										</p>	

									<ul align="left" style="list-style-position: inside;">
									<li style="margin-bottom: 12px;">
										<strong>Architecture:</strong>
										Sensor data is segmented into short time windows and processed by a pretrained NormWear encoder,
										which converts raw biosignals into compact signal embeddings. A lightweight two-layer neural
										network classifier maps these embeddings to hydration states: hydrated, mildly dehydrated, or dehydrated.
										<div style="margin-top: 10px;">
										<img src="images/architecture.jpg"
											style="max-width: 100%; height: auto; border-radius: 6px;">
										</div>
									</li>

									<li style="margin-bottom: 12px;">
										<strong>Training &amp; Optimization:</strong>
										The model is trained using labeled sensor windows and transfer learning to achieve high performance
										with limited data. Key parameters such as window size, learning rate, and classifier depth were tuned
										to balance classification accuracy and real-time efficiency.
										<div style="margin-top: 10px;">
										<img src="images/test_accuracy.jpg"
											alt="Model training and optimization process"
											style="max-width: 100%; height: auto; border-radius: 6px;">
										</div>
									</li>

									<li style="margin-bottom: 12px;">
										<strong>Integration:</strong>
										The model is serialized and embedded directly into the backend container, allowing for low-latency
										inference on every API request without external dependencies.
									</li>
									</ul>

							<h3 align="left">Prototype</h3>

							<p align="left">
							Our prototype consists of a wearable sensor setup connected to a microcontroller,
							demonstrating real-time data collection and hydration inference.
							</p>

							<img src="images/tech_components.jpg"
								alt="HYDR.AI wearable prototype"
								style="max-width:100%; height:auto; border-radius:8px; margin-top:15px;">



						</div>
					</section>


					<section id="results" class="two">
						<div class="container">

							<header>
								<h2>Results</h2>
							</header>

							<p align="left">Remember to use figures to help illustrate results</p>


							<article class="item">
								<a href="#" class="image fit"><img src="images/pic06.jpg" alt="" /></a>
								<header>
									<h3>Caption</h3>
								</header>
							</article>


						</div>
					</section>

					<section id="references" class="three">
						<div class="container">

							<header>
								<h2>References</h2>
							</header>

							<p align="left">
								Luo, Y., Chen, Y., Salekin, A., &amp; Rahman, T. (2023).
								<em>Toward Foundation Models for Multivariate Wearable Sensing of Physiological Signals</em>.
								Proceedings of the ACM on Interactive, Mobile, Wearable and Ubiquitous Technologies (IMWUT).
							</p>


						</div>
					</section>


				<!-- About Me -->
					<section id="team" class="two">
						<div class="container">

							<header>
								<h2>Our Team</h2>
							</header>

							<!-- <a href="#" class="image featured"><img src="images/pic08.jpg" alt="" /></a> -->


							<div class="row">
								<div class="4u 12u$(mobile)">
									<article class="item">
									<a href="#" class="image fit">
										<img src="images/lina.jpeg" alt="Lina Cheung" />
									</a>
									<header>
										<h3>Lina Cheung</h3>
										<p>
										Biomedical Engineering M.S. <br>
										<a href="https://www.linkedin.com/in/cheung-lina" target="_blank">LinkedIn</a>
										</p>
									</header>
									</article>
								</div>
								<div class="4u$ 12u$(mobile)">
									<article class="item">
										<a href="#" class="image fit"><img src="images/pic07.jpg" alt="" /></a>
										<header>
											<h3>Team Member</h3>
											<p>Description and link</p>
										</header>
									</article>
								</div>
								<div class="4u$ 12u$(mobile)">
									<article class="item">
										<a href="#" class="image fit"><img src="images/pic07.jpg" alt="" /></a>
										<header>
											<h3>Team Member</h3>
											<p>Description and link</p>
										</header>
									</article>
								</div>
							</div>

						</div>
					</section>

				<!-- Contact -->
					<section id="contact" class="four">
						<div class="container">

							<header>
								<h2>Contact</h2>
							</header>

							<p align="left">
								<strong>Lina Cheung: </strong>lc3749@columbia.edu</br>
								<strong>Contact Name 2: </strong>email here</br>
								<strong>Other Contact Information: </strong>other contact info</br>
							</br>
								<strong>Columbia University </strong><a href="http://www.ee.columbia.edu">Department of Electrical Engineering</a><br>
								<!-- <strong>Class Website:</strong>
									<a href="https://edblogs.columbia.edu/eecs4764-001-2019-3/">Columbia University EECS E4764 Fall '22 IoT</a></br> -->
								<strong>Instructor:</strong> <a href="https://www.engineering.columbia.edu/faculty-staff/directory/xiaofan-fred-jiang">Professsor Xiaofan (Fred) Jiang</a>
							</p>


							<!-- <form method="post" action="#">
								<div class="row">
									<div class="6u 12u$(mobile)"><input type="text" name="name" placeholder="Name" /></div>
									<div class="6u$ 12u$(mobile)"><input type="text" name="email" placeholder="Email" /></div>
									<div class="12u$">
										<textarea name="message" placeholder="Message"></textarea>
									</div>
									<div class="12u$">
										<input type="submit" value="Send Message" />
									</div>
								</div>
							</form> -->

						</div>
					</section>

			</div>

		<!-- Footer -->
			<div id="footer">

				<!-- Copyright -->
					<ul class="copyright">
						<li>&copy; IoT Project | All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
					</ul>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/jquery.scrollzer.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

	</body>
</html>
